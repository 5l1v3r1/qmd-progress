language: c

sudo: required
dist: trusty

sources:
  - ubuntu-toolchain-r-test
  - llvm-toolchain-precise-3.6

os:
  - linux

before_install:
  - sudo apt-get install gfortran libblas-dev liblapack-dev
  - sudo apt-get install cmake python gcc cmake-data g++
  - cd; git clone -b develop git@github.com:qmmd/bml.git; cd -

before_script:
  - echo "before script"
  - cd ~/bml; sh example_build.sh; cd -
  - cd ~/bml/build; make; make install; cd -

#env:
#  - CMAKE_BUILD_TYPE=Release FC=gfortran CC=gcc
#  - CMAKE_BUILD_TYPE=Release FC=gfortran CC=gcc

script:
  -  sh example_build.sh
  -  cd build; make; make test

after_success:
  - echo "success"
